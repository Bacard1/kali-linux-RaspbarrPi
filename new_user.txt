Raspberry Pi Настройте нов потребител
В зависимост от дистрибуцията на Linux, потребителската настройка изглежда малко по-различно. В прясно инсталиран Linux обикновено има само „root“, ако не е добавен потребител, дефиниран от потребителя по време на инсталацията.

Потребителска настройка на Raspberry Pi
Ако имате изображение на Raspbian, написано на SD карта, тогава има потребител по подразбиране с име „pi“ и парола „raspberry“. Това има предимството, че можете да започнете веднага и да не се налага да настройвате никакви потребители.

Други дистрибуции имат подобни потребители по подразбиране. За повечето има само един потребител „root“. Потребителят "root" е много добър в администрирането на система, защото изисква обширни разрешения, които обикновено има само потребителят "root".

Въпреки това, ако работите нормално със система, трябва да правите това повече с нормален потребител, който е ограничен в своите разрешения. Ако дистрибуцията не предоставя такъв потребител по подразбиране, тогава трябва да настроите това. Разбира се, също така е възможно да се настрои допълнителен потребител.
задача

Настройте нов потребител.
Присвояване на потребители към други потребителски групи.
Тествайте новия потребител.
Root привилегии
Препоръчително е да работите с root привилегии.

sudo -i
Можете да се върнете към предишната сесия с „изход“.
Решение: Настройване на нов потребител
След това настройваме потребител с домашна директория.

useradd -m {USERNAME}
Или настройваме потребител без домашна директория.

useradd {USERNAME}
Домашната директория може да бъде създадена и по-късно.

usermod -d /home/ {USERNAME}
Потребител, който няма парола, не може да влезе. Затова ние задаваме парола за новосъздадения потребител.

passwd {USERNAME}
Паролата трябва да бъде въведена „сляпо“ и след това потвърдена. “Blind” означава, че не е натиснат бутон. Също така без звездички или точки.

За да може потребителят да работи с командния ред, ние му задаваме стандартен bash.

usermod -s /bin/bash {USERNAME}
След това присвояваме на новия потребител основната група „потребители“. Може да е естествено потребителят да има и друга основна група.

usermod -g users {USERNAME}
Решение: Присвояване или премахване на потребители към други потребителски групи
Потребителските групи имат предимството да могат да присвояват и отнемат права за цяла група потребители. Можете да присвоите тези права на потребител, като ги добавите към групата или премахнете правата, като ги премахнете от групата.
По този начин като администратор спестявате много усилия при задаване и отнемане на разрешения за отделни потребители.

Примери за добавяне на потребители към потребителски групи.

gpasswd -a {USERNAME} sudo
gpasswd -a {USERNAME} ssh
Проверете членството в групата на потребител:

id {USERNAME}
Примери за премахване на потребители в потребителски групи.

gpasswd -d {USERNAME} sudo
gpasswd -d {USERNAME} ssh
Забележка: Промените в групите и други подобни са активни само след повторно влизане. Не е необходимо рестартиране.
Решение: Тествайте потребител
Ако сте създали нов потребител, тогава бихте искали да го тествате. Обикновено ще е необходимо да излезете и да влезете с новия потребител. Въпреки това, ако сте свързани с Raspberry Pi чрез SSH, тогава новият потребител, в зависимост от конфигурацията, няма това разрешение. Това означава, че ще трябва да го тествате локално. За да се избегне това неудобство, се преминава по по-кратък път, в който става чрез root права на този потребител.

su - {USERNAME}
Командата „su“ означава „Заместващ потребител“. С това можете да си направите всеки потребител, ако имате root права.
С „изход“ можете да се върнете към предишния потребител.
Внимание: „Изход“ също прекратява SSH връзка. Това означава, че трябва да знаете дали сте сменили на друг потребител чрез „su“, в противен случай ще прекратите връзката.

разширения

дайте root потребителски права в Raspberry Pi
Потребителски интерфейс за настройка
на Raspberry Pi Искате вашия Raspberry Pi (Raspbian Jessie) да се зарежда от командния ред или искате графичният интерфейс да стартира автоматично. По принцип можете да зададете това с инструмента „raspi-config“. Но е само в командния ред.
Да видим какво се започва в момента.

systemctl show default.target
Ако изходът в първия ред дава „id = multi-user.target“, тогава Raspberry Pi започва с командния ред. Ако изходът в първия ред е „Id = graphical.target“, тогава Raspberry Pi започва с графичния потребителски интерфейс.
Завършете рекламата с CTRL + C:
Ако трябва да стартирате командния ред:

sudo systemctl set-default multi-user.target
Ако трябва да стартирате графичния потребителски интерфейс:

sudo systemctl set-default graphical.target
След това е необходимо рестартиране. Заключване на Raspberry Pi / Деактивиране на потребител и изтриване Изтриването на потребител може да доведе до спиране на работата на единия или другия. На различни места потребителят може да бъде конфигуриран или предварително зададен. Така че може да се окаже, че например записи в „/ etc / crontab“ или „sudoers“ трябва да бъдат променени. Следователно човек е принуден да направи обширни корекции, ако е необходимо. Следователно обикновено трябва да е достатъчно да деактивирате потребител.
задача

Заключване или деактивиране на потребителя.
Изтриване на потребител.
Root привилегии

Препоръчително е да работите с root права ..

sudo -i
Можете да се върнете към предишната сесия с „изход“.
Решение: заключване / отключване на потребител Ако просто искате да попречите на потребителя да влезе, ще бъде достатъчно да заключите паролата си. Това означава, че той вече не може да влезе.

usermod -L {USERNAME}
passwd -l {USERNAME}
За вътрешни процеси (също и cron работни места) потребителят може да продължи да се използва.
Решение: Изтриване на потребител Ако определено искате да изтриете потребител, тогава се препоръчва следната процедура. Първо запазвате потребителската директория на съответния потребител.
Преди да изтриете, всички процеси, които все още се изпълняват под потребителя, трябва да бъдат прекратени.

killall -u {USERNAME}
Тогава наистина можете да изтриете потребителя.

userdel -r {USERNAME}
Моля, обърнете внимание: Няма да има връщане. Можете обаче да настроите потребителя отново. Но това не означава, че той има същите права и възможности като преди.

Raspberry Pi Промяна на потребителска и root парола

Всяка стандартна инсталация има потребители по подразбиране с пароли по подразбиране. Това трябва да е така, за да може системният администратор да получи достъп до системата по време на първото стартиране.
Тъй като стандартните потребители и свързаните с тях пароли по подразбиране са публично документирани, те представляват значителен риск за сигурността. Ако паролите по подразбиране не се променят, тогава нападател с известна парола може да получи достъп до системата.
Следователно, след въвеждане в експлоатация, паролите на стандартните потребители трябва да бъдат променени. За Raspberry Pi с Raspbian това обикновено е просто „pi“. Потребителят на root обикновено няма парола за Raspbian.

задача

Променете паролата на потребителя „pi“.
Създайте парола на потребителя „root“.
Изтрийте паролата на потребителя „root“.
Забележка: Паролите се съхраняват в историята на bash Ако промените паролите чрез командния ред, тогава въвеждането се съхранява в обикновен текст в историята на bash на твърдия диск чрез клавиатурата. Историята на bash се намира като файл във всяка потребителска директория. За да предотвратите записването на команда само от време на време, стартирайте командата с „интервал“. Командата се изпълнява нормално и пространството в противен случай се игнорира.
Забележка: Записване и запис на пароли Между другото, добре е да записвате пароли. Единственият въпрос е къде се съхранява тази документация. Така че не под подложката на бюрото, а по-добре в заключващ се шкаф. Между другото, ok също е мениджър на пароли. Въпреки че е по-малко красиво данните за достъп тогава да са на едно място. Но това все пак е по-добре, отколкото да използвате една и съща, може би опасна парола навсякъде.

Решение: Променете потребителската парола на „pi“

Конфигурационната програма “raspi-config” дава възможност за промяна на паролата на потребителя “pi” много лесно и бързо.

sudo raspi-config
Като алтернатива е възможно да направите промяната чрез командния ред, ако сте влезли като потребител „pi“. Забележете „интервали“ в началото на командата.

passwd
Или ако искате да промените паролата за друг потребител. Забележете „интервали“ в началото на командата.

sudo passwd {USERNAME}
“passwd” изисква въвеждане на старата парола и въвеждане на новата парола два пъти. След това новата парола ще бъде валидна при следващото влизане.
Решение: Създайте парола за root Първо преминаваме към потребителя „root“.

sudo -i
Сега трябва да зададем парола за „root“.

passwd
Прилага се същата процедура като при потребителската парола. Можете да се върнете към предишната сесия с „изход“.

Решение: Изтрийте root паролата

Тъй като можете да получите root привилегии в Raspbian по всяко време с потребителя „pi“ с суфикс на командния ред „sudo“, нямате нужда от парола за „root“. След като го настроите, можете да го изтриете по следния начин.

sudo passwd -d root